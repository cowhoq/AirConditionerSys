import{E as S,a as B,b as y,c as b,d as C,e as U,f as k,g as F}from"./axiosRequest-CZ2ZltNV.js";import{d as N,r as c,c as L,a as e,w as a,b as I,e as f,u,o as M,i as _,f as v,p as R,g as q,_ as A}from"./index-DQPjzpzJ.js";const h=m=>(R("data-v-73334b54"),m=m(),q(),m),D={class:"reception"},j=h(()=>f("h1",null,"酒店前台",-1)),z=h(()=>f("h2",{style:{"text-align":"center"}},"入住登记",-1)),G={class:"window"},H=h(()=>f("h2",{style:{"text-align":"center"}},"打印账单",-1)),J=N({__name:"Login",setup(m){let p=c(0),d=c(""),o=c(""),w=c([]);async function E(){try{let t=await y({url:"/register",method:"post",params:{userId:p.value,name:d.value,roomId:o.value}});if(t.code==1)b.success("登记成功");else throw new Error(t.msg||"操作失败")}catch(t){b.error("出错了: "+t.message)}}async function T(){try{let t=await y({url:"/bill",method:"get",params:{roomId:o.value}});if(t.code==1)w.value=t.data;else throw new Error(t.msg||"操作失败")}catch(t){b.error("出错了: "+t.message)}}return(t,s)=>{const i=C,n=U,g=k,V=S,r=F,x=B;return M(),L("div",D,[j,e(V,{onSubmit:I(E,["prevent"]),class:"window content-center",inline:!1},{default:a(()=>[z,e(n,{label:"身份证号"},{default:a(()=>[e(i,{class:"input",modelValue:u(p),"onUpdate:modelValue":s[0]||(s[0]=l=>_(p)?p.value=l:p=l),placeholder:"输入客户身份证号"},null,8,["modelValue"])]),_:1}),e(n,{label:"客户姓名"},{default:a(()=>[e(i,{class:"input",modelValue:u(d),"onUpdate:modelValue":s[1]||(s[1]=l=>_(d)?d.value=l:d=l),placeholder:"输入客户姓名"},null,8,["modelValue"])]),_:1}),e(n,{label:"入住房间"},{default:a(()=>[e(i,{class:"input",modelValue:u(o),"onUpdate:modelValue":s[2]||(s[2]=l=>_(o)?o.value=l:o=l),placeholder:"输入房间号"},null,8,["modelValue"])]),_:1}),e(n,null,{default:a(()=>[e(g,{type:"primary","native-type":"submit"},{default:a(()=>[v("登记入住")]),_:1})]),_:1})]),_:1}),f("div",G,[e(V,{onSubmit:I(T,["prevent"]),class:"content-center"},{default:a(()=>[H,e(n,{label:"输入房间号"},{default:a(()=>[e(i,{class:"input",modelValue:u(o),"onUpdate:modelValue":s[3]||(s[3]=l=>_(o)?o.value=l:o=l),placeholder:"查询的房间号"},null,8,["modelValue"])]),_:1}),e(n,null,{default:a(()=>[e(g,{type:"primary","native-type":"submit"},{default:a(()=>[v("获取报表")]),_:1})]),_:1})]),_:1}),e(x,{data:u(w),style:{width:"100%"},stripe:"",border:"","show-summary":""},{default:a(()=>[e(r,{prop:"roomId",label:"房间ID",align:"center"}),e(r,{prop:"startTime",label:"Start Time"}),e(r,{prop:"stopTime",label:"End Time"}),e(r,{prop:"startTemp",label:"Start Temperature"}),e(r,{prop:"stopTemp",label:"End Temperature"}),e(r,{prop:"fanSpeed",label:"Airflow"}),e(r,{prop:"totalFee",label:"Cost"})]),_:1},8,["data"])])])}}}),P=A(J,[["__scopeId","data-v-73334b54"]]);export{P as default};
