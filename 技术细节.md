# 1. 系统组成部分
本系统共分为四个组成部分, 它们分别是:
* 从机前端
* 从机后端
* 主机前端
* 主机后端
各个部分之间通过 HTTP 请求进行通信.
关于前端的技术细节我们并没有进行更为细致的讨论, 下面重点说一下后端的技术细节:

# 2. 从机后端
从机后端主要实现的功能有:
* 根据**从机前端**请求:
  * 返回当前房间温度;
  * 返回主机的工作模式和工作温度;
  * 修改设定温度;
  * 修改风速请求;
  * 获取房间账单 (我自己加的, 不一定真用实现);

* 与**主机后端**的交互:
  * 获取主机的工作模式和工作温度;
  * 发送从机的设定温度和风速请求;
  * 发送开关空调请求;
  * 收到送风信号 (主要是主机调度时不能每分钟都进行送风)

* **从机后端**需要功能:
  * 计算房间温度变化, 并根据用户设定温度发送开关空调请求

可以看到从机后端也可以进一步细分为:
* 从机后端与从机前端, 主机后端之间的交互;
* 从机后端处理用户设定参数, 计算房间温度曲线.

于是我们考虑交互部分可以使用 spring boot 技术实现
处理部分使用单独实现, 并开放接口给 spring boot 框架, 共其调用.

# 3. 主机后端
主机后端主要实现的功能有:
* 根据**主机前端**请求:
  * 开关中央空调
  * 设定主机的工作模式和工作温度;
  * 运行报表的查询.

* 与**从机后端**的交互:
  * 发送主机的工作模式和工作温度;
  * 接收从机的设定温度和风速请求;
  * 接收从机开关空调请求;
  * 发送送风信号.

* **主机后端**需要功能:
  * 记录每次从机开关空调的请求, 计算其花费;
  * 多个从机请求之间的调度.
  * 按时间生成报表

与 **从机后端**分析类似, 具体实现时还是可以分为两部分, 这里就不再赘述.

# 4. 主机, 从机后端开发.
开发后端共分为三个人, 所以理论上应该分为三部分.
经过讨论, 可以分为以下三部分:
* 主机后端处理部分
* 从机后端处理部分
* 主机, 从机与各自前端, 以及两个后端之间的交互

> 按照我自己的想法, 我认为还可以这样分:
> * 主机后端
> * 从机后端
> * 测试 (包括但不限于: 两个后端与各自前端交互的测试, 两个后端之间的交互)

# 5. 前端开发
通过前面的讨论我们可以看出, 前端唯一需要做的就是:
## 把前端做的尽可能漂亮
